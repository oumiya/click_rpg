# このテキストについて

イベント用に外部テキストファイルを読み込んで画面を描画する処理の設計
簡単なノベルエンジンみたいなもの

の仕様をまとめたもの

## 各データの格納場所
・イベントで使用する画像は image/event にあらかじめ格納しておくこと
・bgmやseは各々 audio/bgm と audio/se に格納しておくこと

## 定義命令
---------------------------------------------------------------------------
まず定義命令でそのイベントで使用する画像や音楽データをハッシュ構造に読み込む
逐次読み込みだと速度の問題がある気がするのでイベント前に一気に読み込んだ方が良いと思う

### bg_load:タグ,ファイル名

背景画像を読み込む

例）bg_load:城, castle.png

### chr_load:タグ,ファイル名

キャラクター画像を読み込む

例）chr_load:主人公, player.png

### pic_load:タグ,ファイル名

一枚絵を読み込む

例）pic_load:キスシーン,kiss.png

### bgm_load:タグ,ファイル名

BGMを読み込む

例）bgm_load:街中, town.mp3

### se_load:タグ,ファイル名

SEを読み込む

例）se_load:バシッ！,se001.png

## 制御命令
---------------------------------------------------------------------------
実際にイベント画面を制御する命令

### mes:名前,表示文章

文章を表示する。35文字4行まで表示できる。ただしコマンド上は1行で書かなきゃ駄目
改行は<br>でする。別に文字数超えてもいいけどはみ出して表示されるだけ。

名前は8文字まで表示できる。超えたら単にはみ出すだけ

例）mes:ナレーション,長いこと旅に出ていたあなたは、久々に故郷の国に戻ってきた。<br>しかし街の様子がおかしい。<br>人通りが少なく、物音もしない。どこか荒涼としている。

### mes_window

メッセージウィンドウを表示する

### mes_window_clear

メッセージウィンドウを消去する

### bg:タグ

すでに読み込んだタグの背景を表示する

例）bg:城

### chr:タグ,表示場所

すでに読み込んだタグのキャラクターを表示する
表示場所は left, center, right のいずれかを設定する

例）chr:主人公,left

### pic:タグ

一枚絵を表示する

例）pic:キスシーン

### bg_clear

背景をクリアする（黒の四角で塗りつぶす）

例）bg_clear

### chr_clear:表示場所

キャラクターを消去する
表示場所は left, center, right のいずれかを設定する

例）chr_clear:left

### pic_clear

一枚絵を消去する

例）pic_clear

### bgm:タグ

指定したタグのBGMを再生する

### se:タグ

指定したタグのSEを再生する

### fade_in

描画を開始する
これはつまり先にキャラクター画像や背景の描画の用意ができてから
描画を開始することでプレイヤーに対して急に画像が表示されないようにするもの
描画開始時はフェードイン演出が必ず入る

例）
bg:城
chr:主人公
fade_in

### fade_out

フェードアウトする

### wait:フレーム数

指定したフレーム数、ウェイトする

### scene:シーンID,ダンジョンID

次に遷移する画面を指定する
デフォルトはホーム画面に遷移するようになっている
ダンジョンIDはダンジョン画面に遷移するときのみ必須

0 が ホーム画面 1 がダンジョン画面 2 が装備変更画面 3 がショップ画面 4 がゲームをやめる